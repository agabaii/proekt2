import React, { useState } from "react";
import { motion, AnimatePresence } from "framer-motion";
import "../styles.css";

const Thoughts = () => {
  const [selectedThought, setSelectedThought] = useState(null);
  const [activeCategory, setActiveCategory] = useState("all");

  // Sample thoughts content
  const thoughts = [
    {
      id: 1,
      title: "Что значит для меня творчество",
      excerpt: "Творчество для меня — это не просто хобби или работа, это способ существования...",
      content: "Творчество для меня — это не просто хобби или работа, это способ существования. Когда я создаю что-то новое, я чувствую себя по-настоящему живой. В моменты вдохновения время останавливается, и есть только я и мое творение. Это особое состояние сознания, когда ты полностью погружен в процесс. \n\nЯ верю, что каждый из нас рождается с потребностью творить, просто некоторые теряют эту связь по мере взросления. Каждый раз, когда я беру в руки камеру, я чувствую, как что-то внутри меня просыпается — это чистая, ничем не замутненная радость от возможности запечатлеть мгновение, которое никогда больше не повторится.",
      date: "12 марта 2025",
      category: "творчество",
      image: "thought-creativity.jpg"
    },
    {
      id: 2,
      title: "Мое путешествие в горы",
      excerpt: "Недавно я вернулась из путешествия в горы, которое перевернуло мое представление о природе...",
      content: "Недавно я вернулась из путешествия в горы, которое перевернуло мое представление о природе и о себе самой. Я всегда думала, что горы — это просто красивый пейзаж, достойный фотографии. Но теперь я понимаю, что они гораздо больше. \n\nКогда ты поднимаешься на вершину после долгого, тяжелого пути, ты не просто видишь красивый вид — ты чувствуешь себя частью чего-то величественного и вечного. В горах время течет иначе. Все проблемы и заботы остаются где-то внизу, а здесь есть только ты, небо и эта невероятная, первозданная красота. \n\nЯ провела три дня, фотографируя горные пейзажи на рассвете и закате, и каждый кадр рассказывает свою историю. Но самое ценное, что я привезла с собой — это не фотографии, а ощущение внутренней тишины и ясности, которое рождается только на высоте.",
      date: "5 марта 2025",
      category: "путешествия",
      image: "thought-mountains.jpg"
    },
    {
      id: 3,
      title: "О значении момента",
      excerpt: "В мире, где все постоянно спешат, я учусь ценить каждый момент...",
      content: "В мире, где все постоянно спешат, я учусь ценить каждый момент. Мы так часто думаем о будущем или прошлом, что забываем жить здесь и сейчас. Но именно в настоящем моменте и происходит вся наша жизнь. \n\nКогда я фотографирую, я полностью погружаюсь в процесс. Я замечаю детали, которые обычно ускользают от внимания: как свет падает на лицо человека, как ветер играет с листьями деревьев, как меняются оттенки неба перед закатом. В эти моменты я чувствую себя по-настоящему живой. \n\nЯ стараюсь переносить это состояние осознанности и в повседневную жизнь. Вместо того чтобы проверять телефон за завтраком, я замечаю вкус еды. Вместо того чтобы слушать подкаст по дороге на работу, иногда я просто иду и наблюдаю за городом, который просыпается. Это маленькие моменты, но именно из них и состоит жизнь.",
      date: "20 февраля 2025",
      category: "размышления",
      image: "thought-moment.jpg"
    },
    {
      id: 4,
      title: "Мой творческий кризис",
      excerpt: "Каждый творческий человек периодически сталкивается с кризисом. Вот как я справилась со своим...",
      content: "Каждый творческий человек периодически сталкивается с кризисом. Несколько месяцев назад я проснулась с ощущением, что все мои идеи исчерпаны. Я смотрела на свои работы и видела только их недостатки. Камера, которая раньше была продолжением меня, вдруг стала чужой и тяжелой. \n\nЯ не знала, что делать. Я пробовала заставить себя снимать каждый день, но результат только разочаровывал. Тогда я решила сделать то, что казалось противоестественным — я отложила камеру. На целый месяц. \n\nВместо этого я начала ходить в музеи, читать книги, гулять по городу без цели. Я встречалась с друзьями, не связанными с творческой сферой, и слушала их истории. Я начала вести дневник, записывая свои мысли и наблюдения.\n\nИ однажды утром я проснулась с острым желанием снимать. Идеи приходили одна за другой, я видела кадры повсюду. Этот опыт научил меня, что творческий кризис — это не конец, а часть процесса. Иногда нужно сделать шаг назад, чтобы потом сделать два шага вперед.",
      date: "15 февраля 2025",
      category: "творчество",
      image: "thought-crisis.jpg"
    },
    {
      id: 5,
      title: "О людях, которых я фотографирую",
      excerpt: "Каждое лицо — это история, и я стараюсь рассказать её через свои портреты...",
      content: "Каждое лицо — это история, и я стараюсь рассказать её через свои портреты. Когда я фотографирую человека, я не просто нажимаю на кнопку. Я пытаюсь увидеть его или её по-настоящему, заглянуть глубже внешности. \n\nНекоторые люди раскрываются перед камерой сразу, другим нужно время. Я люблю этот момент, когда человек наконец расслабляется и показывает свое настоящее лицо — не то, которое он привык демонстрировать миру, а то, которое отражает его внутреннюю сущность. \n\nУ меня есть серия портретов пожилых людей, над которой я работаю уже два года. Каждая морщинка на их лицах — это след прожитой жизни, радости или печали. Когда я смотрю на эти фотографии, я вижу не просто лица, а целые жизни, полные историй, которые стоит рассказать.",
      date: "8 февраля 2025",
      category: "люди",
      image: "thought-people.jpg"
    },
    {
      id: 6,
      title: "О влиянии цифровых технологий",
      excerpt: "Технологии изменили способ, которым мы воспринимаем изображения...",
      content: "Технологии изменили способ, которым мы воспринимаем изображения. Сегодня мы потребляем тысячи визуальных образов каждый день, прокручивая ленты социальных сетей. Но действительно ли мы видим эти образы? \n\nКогда я начинала фотографировать, у меня была пленочная камера. Каждый кадр был ценным, потому что их количество было ограничено. Я тщательно выбирала, что снимать, и никогда не узнавала результат сразу. Это учило терпению и вниманию к деталям. \n\nСегодня цифровая фотография дает нам свободу экспериментировать, но иногда я думаю, что мы потеряли что-то важное. Мы стали меньше ценить отдельные изображения. Мы смотрим на них мгновение и переходим к следующему. \n\nПоэтому я стараюсь сохранить особое отношение к фотографии. Я верю, что настоящий снимок — это не просто изображение, а момент, в котором есть эмоция, история и часть души фотографа.",
      date: "1 февраля 2025",
      category: "размышления",
      image: "thought-tech.jpg"
    }
  ];

  const filteredThoughts = activeCategory === "all" 
    ? thoughts 
    : thoughts.filter(t => t.category === activeCategory);

  const categories = ["all", ...new Set(thoughts.map(t => t.category))];

  const openThought = (thought) => {
    setSelectedThought(thought);
    document.body.style.overflow = "hidden";
  };

  const closeThought = () => {
    setSelectedThought(null);
    document.body.style.overflow = "auto";
  };

  return (
    <section id="thoughts-section" className="thoughts-section animate-section">
      <motion.div
        className="thoughts-header"
        initial={{ opacity: 0, y: 30 }}
        whileInView={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.6 }}
      >
        <h2>МЫСЛИ АГАБАЙ</h2>
        <div className="thoughts-categories">
          {categories.map((category) => (
            <button
              key={category}
              className={category === activeCategory ? "active" : ""}
              onClick={() => setActiveCategory(category)}
            >
              {category === "all" ? "Все" : category.charAt(0).toUpperCase() + category.slice(1)}
            </button>
          ))}
        </div>
      </motion.div>

      <div className="thoughts-container">
        {filteredThoughts.map((thought, index) => (
          <motion.div
            key={thought.id}
            className="thought-card"
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: index * 0.1 }}
            whileHover={{ scale: 1.02 }}
            onClick={() => openThought(thought)}
          >
            <div className="thought-date">{thought.date}</div>
            <h3 className="thought-title">{thought.title}</h3>
            <p className="thought-excerpt">{thought.excerpt}</p>
            <div className="thought-category">{thought.category}</div>
            <div className="thought-read-more">Читать полностью</div>
          </motion.div>
        ))}
      </div>

      <AnimatePresence>
        {selectedThought && (
          <motion.div 
            className="thought-modal-overlay"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            onClick={closeThought}
          >
            <motion.div 
              className="thought-modal-content"
              initial={{ scale: 0.8, opacity: 0 }}
              animate={{ scale: 1, opacity: 1 }}
              exit={{ scale: 0.8, opacity: 0 }}
              onClick={(e) => e.stopPropagation()}
            >
              <button className="thought-modal-close" onClick={closeThought}>×</button>
              <div className="thought-modal-header">
                <span className="thought-modal-date">{selectedThought.date}</span>
                <span className="thought-modal-category">{selectedThought.category}</span>
              </div>
              <h2 className="thought-modal-title">{selectedThought.title}</h2>
              <div className="thought-modal-text">
                {selectedThought.content.split('\n\n').map((paragraph, i) => (
                  <p key={i}>{paragraph}</p>
                ))}
              </div>
            </motion.div>
          </motion.div>
        )}
      </AnimatePresence>
    </section>
  );
};

export default Thoughts;